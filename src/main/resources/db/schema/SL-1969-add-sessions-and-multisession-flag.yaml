databaseChangeLog:
- changeSet:
    id: number-of-sessions-hearing
    author: ataylor
    changes:
    - addColumn:
        tableName: hearing
        columns:
        - column:
            name: number_of_sessions
            type: int
            defaultValueNumeric: 1
        - column:
            name: is_multisession
            type: boolean

- changeSet:
    id: number-of-sessions-hearing-aud
    author: ataylor
    changes:
    - addColumn:
        tableName: hearing_aud
        columns:
        - column:
            name: number_of_sessions
            type: int
            defaultValueNumeric: 1
        - column:
            name: is_multisession
            type: boolean
        - sqlFile:
            comment: setting is_multisession flag
            encoding: utf8
            endDelimiter: \nGO
            path: ../fixtures/SL-1969-migrate-multisession.sql
            relativeToChangelogFile: true
            splitStatements: true
            stripComments: true

- changeSet:
    id: number-of-sessions-hearing-constraints
    author: ataylor
    changes:
    - addNotNullConstraint:
        tableName: hearing
        columnName: number_of_sessions
    - addNotNullConstraint:
        tableName: hearing
        columnName: is_multisession

- changeSet:
    id: number-of-sessions-hearing-aud-constraints
    author: ataylor
    changes:
    - addNotNullConstraint:
        tableName: hearing_aud
        columnName: number_of_sessions
    - addNotNullConstraint:
        tableName: hearing_aud
        columnName: is_multisession
