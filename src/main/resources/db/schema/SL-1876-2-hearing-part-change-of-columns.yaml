databaseChangeLog:
  - changeSet:
        id: SL-1876-changes-to-hearing-part-table
        author: lgurniewicz
        changes:
        # constraints drop
          - dropForeignKeyConstraint:
              baseTableName: hearing_part
              constraintName: fk_reserved_judge_id_to_person_id
          - dropForeignKeyConstraint:
               baseTableName: hearing_part
               constraintName: fk_hearing_type_code_to_hearing_type
          - dropForeignKeyConstraint:
              baseTableName: hearing_part
              constraintName: fk_case_type_code_to_case_type
          # columns drop
          - dropColumn:
              columnName: case_number
              tableName: hearing_part
          - dropColumn:
              columnName: case_title
              tableName: hearing_part
          - dropColumn:
              columnName: duration
              tableName: hearing_part
          - dropColumn:
              columnName: schedule_start
              tableName: hearing_part
          - dropColumn:
              columnName: schedule_end
              tableName: hearing_part
          - dropColumn:
              columnName: start
              tableName: hearing_part
          - dropColumn:
              columnName: priority
              tableName: hearing_part
          - dropColumn:
              columnName: reserved_judge_id
              tableName: hearing_part
          - dropColumn:
              columnName: communication_facilitator
              tableName: hearing_part
          - dropColumn:
              columnName: hearing_type_code
              tableName: hearing_part
          - dropColumn:
              columnName: case_type_code
              tableName: hearing_part
          # new column
          - addColumn:
              columns:
              - column:
                  name: hearing_id
                  type: UUID
              tableName: hearing_part
          - addForeignKeyConstraint:
              baseColumnNames: hearing_id
              baseTableName: hearing_part
              constraintName: fk_hearing_id_to_hearing_part_id
              referencedColumnNames: id
              referencedTableName: hearing

  - changeSet:
      id: SL-1876-changes-to-hearing-part-aud-table
      author: lgurniewicz
      changes:
          - addColumn:
              columns:
              - column:
                  name: hearing_id
                  type: UUID
              tableName: hearing_part_aud
          # columns drop
          - dropColumn:
              columnName: case_number
              tableName: hearing_part_aud
          - dropColumn:
              columnName: case_title
              tableName: hearing_part_aud
          - dropColumn:
              columnName: duration
              tableName: hearing_part_aud
          - dropColumn:
              columnName: schedule_start
              tableName: hearing_part_aud
          - dropColumn:
              columnName: schedule_end
              tableName: hearing_part_aud
          - dropColumn:
              columnName: start
              tableName: hearing_part_aud
          - dropColumn:
              columnName: priority
              tableName: hearing_part_aud
          - dropColumn:
              columnName: reserved_judge_id
              tableName: hearing_part_aud
          - dropColumn:
              columnName: communication_facilitator
              tableName: hearing_part_aud
          - dropColumn:
              columnName: hearing_type_code
              tableName: hearing_part_aud
          - dropColumn:
              columnName: case_type_code
              tableName: hearing_part_aud
